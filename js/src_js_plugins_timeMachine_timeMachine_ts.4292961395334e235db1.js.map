{"version":3,"file":"src_js_plugins_timeMachine_timeMachine_ts.4292961395334e235db1.js","mappings":";;;;;;;;;;;;;;;;AAAA,4BAA4B,SAAI,IAAI,SAAI;AACxC,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACuB;AACgC;AAChD;AACP,aAAa,0EAAqB;AAClC;AACA,IAAI,0EAAqB;AACzB;AACA;AACA;AACA;AACA,YAAY,6CAAC,yBAAyB,sEAAiB,wMAAwM,g/GAAg/G;AAC/uH,YAAY,6CAAC;AACb,oBAAoB,6CAAC;AACrB,oBAAoB,6CAAC;AACrB;AACA;AACA,oBAAoB,6CAAC;AACrB;AACA,oBAAoB,6CAAC;AACrB;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA,IAAI,0EAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE,oBAAoB,6CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6CAAC;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,IAAI,0EAAqB;AACzB;AACA;AACA;AACA,gCAAgC,wFAAmC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA,8BAA8B,8CAA8C;AAC5E;AACA;AACA;AACA,8BAA8B,iDAAiD;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/timeMachine/timeMachine.ts"],"sourcesContent":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nimport $ from 'jquery';\nimport { keepTrackApi } from '@app/js/api/externalApi';\nexport var init = function () {\n    var _a = keepTrackApi.programs, orbitManager = _a.orbitManager, settingsManager = _a.settingsManager, groupsManager = _a.groupsManager, satSet = _a.satSet, ColorScheme = _a.ColorScheme, searchBox = _a.searchBox;\n    // Add HTML\n    keepTrackApi.register({\n        method: 'uiManagerInit',\n        cbName: 'timeMachine',\n        cb: function () {\n            // Bottom Icon\n            $('#bottom-icons').append(keepTrackApi.html(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n        <div id=\\\"menu-time-machine\\\" class=\\\"bmenu-item\\\">\\n          <img alt=\\\"time-machine\\\" src=\\\"\\\" delayedsrc=\\\"data:image/png;base64,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\\\">\\n          <span class=\\\"bmenu-title\\\">Time Machine</span>\\n          <div class=\\\"status-icon\\\"></div>\\n        </div>\\n      \"], [\"\\n        <div id=\\\"menu-time-machine\\\" class=\\\"bmenu-item\\\">\\n          <img alt=\\\"time-machine\\\" src=\\\"\\\" delayedsrc=\\\"data:image/png;base64,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\\\">\\n          <span class=\\\"bmenu-title\\\">Time Machine</span>\\n          <div class=\\\"status-icon\\\"></div>\\n        </div>\\n      \"]))));\n            $('#time-machine-icon').on('click', function () {\n                if ($('#time-machine-menu').css('display') === 'block') {\n                    $('#time-machine-menu').hide();\n                }\n                else {\n                    $('#time-machine-menu').show();\n                    searchBox.hideResults();\n                    $('#search-results').hide();\n                }\n            });\n        },\n    });\n    // Add JavaScript\n    keepTrackApi.register({\n        method: 'bottomMenuClick',\n        cbName: 'timeMachine',\n        cb: function (iconName) {\n            if (iconName === 'menu-time-machine') {\n                if (orbitManager.isTimeMachineRunning) {\n                    // Merge to one variable?\n                    orbitManager.isTimeMachineRunning = false;\n                    orbitManager.isTimeMachineVisible = false;\n                    settingsManager.colors.transparent = orbitManager.tempTransColor;\n                    groupsManager.clearSelect();\n                    satSet.setColorScheme(ColorScheme.default, true); // force color recalc\n                    $('#menu-time-machine').removeClass('bmenu-item-selected');\n                    return;\n                }\n                else {\n                    // Merge to one variable?\n                    orbitManager.isTimeMachineRunning = true;\n                    orbitManager.isTimeMachineVisible = true;\n                    $('#menu-time-machine').addClass('bmenu-item-selected');\n                    orbitManager.historyOfSatellitesPlay();\n                    return;\n                }\n            }\n        },\n    });\n    keepTrackApi.register({\n        method: 'orbitManagerInit',\n        cbName: 'timeMachine',\n        cb: function () {\n            var groupsManager = keepTrackApi.programs.groupsManager;\n            orbitManager.playNextSatellite = function (runCount, year) {\n                if (!orbitManager.isTimeMachineVisible)\n                    return;\n                // Kill all old async calls if run count updates\n                if (runCount !== orbitManager.historyOfSatellitesRunCount)\n                    return;\n                var yearGroup = groupsManager.createGroup('yearOrLess', year);\n                // groupsManager.selectGroupNoOverlay(yearGroup);\n                groupsManager.selectGroup(yearGroup, orbitManager);\n                yearGroup.updateOrbits(orbitManager, orbitManager);\n                satSet.setColorScheme(ColorScheme.group, true); // force color recalc\n                if (year >= 59 && year < 100) {\n                    M.toast({ html: \"Time Machine In Year 19\" + year + \"!\" });\n                }\n                else {\n                    var yearStr = year < 10 ? \"0\" + year : \"\" + year;\n                    M.toast({ html: \"Time Machine In Year 20\" + yearStr + \"!\" });\n                }\n                if (year == parseInt(new Date().getUTCFullYear().toString().slice(2, 4))) {\n                    setTimeout(function () {\n                        if (runCount !== orbitManager.historyOfSatellitesRunCount)\n                            return;\n                        if (!orbitManager.isTimeMachineVisible)\n                            return;\n                        settingsManager.colors.transparent = orbitManager.tempTransColor;\n                        orbitManager.isTimeMachineRunning = false;\n                        groupsManager.clearSelect();\n                        satSet.setColorScheme(ColorScheme.default, true); // force color recalc\n                    }, 10000); // Linger for 10 seconds\n                }\n            };\n            // Used to kill old async calls\n            orbitManager.historyOfSatellitesRunCount = 0;\n            orbitManager.historyOfSatellitesPlay = function () {\n                orbitManager.historyOfSatellitesRunCount++;\n                orbitManager.isTimeMachineRunning = true;\n                orbitManager.tempTransColor = settingsManager.colors.transparent;\n                settingsManager.colors.transparent = [0, 0, 0, 0];\n                var _loop_1 = function (yy) {\n                    var year = 59 + yy;\n                    if (year >= 100)\n                        year = year - 100;\n                    setTimeout(\n                    // eslint-disable-next-line no-loop-func\n                    function (runCount) {\n                        orbitManager.playNextSatellite(runCount, year);\n                    }, settingsManager.timeMachineDelay * yy, orbitManager.historyOfSatellitesRunCount);\n                    if (year == 20)\n                        return \"break\";\n                };\n                for (var yy = 0; yy <= 200; yy++) {\n                    var state_1 = _loop_1(yy);\n                    if (state_1 === \"break\")\n                        break;\n                }\n            };\n        },\n    });\n};\nvar templateObject_1;\n"],"names":[],"sourceRoot":""}